# 携带研究材料
[携带研究材料](https://kamacoder.com/problempage.php?pid=1046)
动态规划必吃榜
典中典之经典背包问题，我认为背包问题这样经典的东西，一定有人比我讲的更好，我推荐B站的这位老师[背包问题](https://www.bilibili.com/video/BV1pY4y1J7na/?spm_id_from=333.337.search-card.all.click&vd_source=9765ab25c3b7fd8b997b186955447f35)，感谢这位老师的指导让我在复杂的CSDN废话中找到能看懂的

## 代码(二维dp)
```
# include <iostream>
# include <vector>
using namespace std;
int main(){
int m,n;
cin >>m>>n;
vector <int> space(m,0);
vector <int> value(m,0);
for(int i=0;i<m;i++){
    cin >>space[i];
}

for(int i=0;i<m;i++){
    cin >>value[i];
}

vector <vector<int>> dp(m+1,vector<int>(n+1,0));//dp数组

for(int i=1;i<m+1;i++){
    for(int j=1;j<n+1;j++){
        dp[i][j]=dp[i-1][j];//继承前面的价值
        if(j>=space[i-1]){
            dp[i][j]=max(dp[i-1][j],dp[i-1][j-space[i-1]]+value[i-1]);//判断是否需要更新
        }
    }
}



cout<< dp[m][n]<<endl;




}
```

## 解析
动态规划的全部思想在于当前所做的，应该是之前状态的继承和更新。什么意思呢？我们在这里把背包装填的过程分成m*n块，检测“**当有前i种物品时，并且拥有n的空间的背包能装入的最大价值**”，明确我们的dp迭代，当我们检测到了新的物品i，不可能说价值比以前还少是吧，所以dp[i][j]=dp[i-1][j]至少会继承，那么什么时候更新呢？也就是观察如果我把一部分空间腾出来放入新的物品i，价值是否会提升，所以存在dp[i][j]=max(dp[i-1][j],dp[i-1][j-space[i-1]]+value[i-1]);

实际上这个算法还能优化，因为我们检测到物品i时，只需要dp[i-1]的信息即可，我们甚至可以压缩到一维dp数组

## 代码（一维dp）
```
# include <iostream>
# include <vector>
using namespace std;
int main(){
int m,n;
cin >>m>>n;
vector <int> space(m,0);
vector <int> value(m,0);
for(int i=0;i<m;i++){
    cin >>space[i];
}

for(int i=0;i<m;i++){
    cin >>value[i];
}

vector <int> dp(n+1,0);

for(int i=0;i<m;i++){
    for(int j=n;j>0;j--){
        if(j>=space[i]){
            dp[j]=max(dp[j],dp[j-space[i]]+value[i]);
        }
    }

}

cout<< dp[n]<<endl;
}
```

## 解析
一维dp的特点是一维数组（废话），它用一个维度保存了两种信息，更新前直到i-1个物品时，更新后直到i个物品。在更新时有这样的迭代方式dp[j]=max(dp[j],dp[j-space[i]]+value[i]);（不更新，保留直到物品i-1时的状态；更新，将物品i放入并留出space[i]的空间）。
这里有两个重点
1. 为什么是先遍历物品再遍历空间  
答：因为我们的一维dp只能保留两个物品维度（暂且先这样命名），先遍历空间例如j空间下物品1~j的种类是不可行的
2. 为什么先遍历j=n的空间再递减
答：因为从小到大会存在一个问题，假如有一个大小为1的物品，它会在空间=1时检测一次，在空间=2的时候检测一次，实际上如果允许，它会被放入n次，但题目要求只能放入1次（反推如果题目不要求限制物品数量，那么就可以从小到大遍历，这也是无限背包问题)

动态规划的本质是用空间换时间，把我们已经做过的事情存储起来，我并不知道后续该怎么做，但是当前所做的事情一定和我的过去挂钩（突然励志）