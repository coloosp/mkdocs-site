# 四数之和
[四数之和](https://leetcode.cn/problems/4sum/)
和前面题目一样的思路，不过剪枝和去重的部分可能需要仔细考虑
## 代码
```
class Solution {
public:
    vector<vector<int>> fourSum(vector<int>& nums, int target) {
        sort(nums.begin(),nums.end());
        vector <vector <int>> result;
        for(int i=0;i<nums.size();i++){
            if(nums[i]>target && nums[i]>=0){//剪枝
                break;
            }
            if(i>0 && nums[i] ==nums[i-1]){//去重
                continue;
            }
            for(int k=i+1;k <nums.size();k++){
                if(nums[i]+nums[k] >target && nums[i]+nums[k]>=0){
                    break;
                }
                if(k>i+1 && nums[k]==nums[k-1]){
                    continue;
                }
                int left =k+1;
                int right =nums.size()-1;
                while(left <right) {
                    if((long)nums[i]+nums[k]+nums[left]+nums[right] >target) {//这里直接使用int会导致数值溢出，出题人的锅
                        right--;
                    }
                    else if((long)nums[i]+nums[k]+nums[left]+nums[right] <target){
                        left++;
                    }
                    else {
                        result.push_back({nums[i],nums[k],nums[left],nums[right]});
                        //去重
                        while(left <right && nums[left]==nums[left+1]) left++;
                        while(left <right && nums[right]==nums[right-1]) right--;

                        right--;
                        left++;
                        



                    }




                }
            }
        }

            return result;
    }
};
```
## 解析
没错，对于双指针来说，四数之和就是在三数之和中增加一项循环，实际时间复杂度变成了O（N3），思路很简单，可能重要的是去重的部分。
`if(nums[i]>target && nums[i]>=0){//剪枝
                break;
            }`
 这一段表示的含义是当我们的指针i已经大于target（等于可能有[0,0,0,0,0]这个特殊数组)，并且i值需要大于等于0(因为target如果为负，这个剪枝实际上不成立)。这时候，后面的遍历都没有意义，只会比target大。
 （如果代码出现问题，建议重写一遍）